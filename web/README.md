# 🌐 CUCDFD Web前端服务

> 深度鉴伪检测系统的用户界面

## 🚀 核心特性

- **📱 响应式界面** - 支持桌面和移动设备
- **📤 文件上传** - 支持图像/视频/音频检测
- **🔄 实时监控** - 检测进度实时显示
- **📊 结果可视化** - 直观的检测结果展示
- **⚡ 快速部署** - 一键启动Web服务
- **🔒 格式验证** - 客户端文件格式检查

## 🏗️ 系统架构

```
用户浏览器 → Web前端 → 分配器 → AI检测节点
     ↓         ↓        ↓         ↓
   文件上传   接口代理   任务调度   深度学习推理
   结果展示   静态服务   负载均衡   鉴伪检测
```

## ⚡ 快速启动

### 📋 环境要求
- Python 3.8+
- 分配器服务运行中

### 🚀 启动服务
```bash
# 启动Web服务
./start_web_simple.sh

# 停止服务
./stop_web_simple.sh
```

### 🔗 访问地址
- **桌面版**: `http://localhost:8080`
- **移动版**: `http://localhost:8080/wap.html`
- **检测面板**: `http://localhost:8080/panel`

## ⚙️ 配置说明

### 服务配置
```bash
# 默认端口
PORT=8080

# API后端地址（在文件中自动替换）
API_URL=http://localhost:5000
```

### 支持格式
| 媒体类型 | 格式 | 大小限制 |
|---------|------|----------|
| 📷 **图像** | jpg, png, jpeg, tif, webp | 10MB |
| 🎬 **视频** | mp4 | 10MB |
| 🎵 **音频** | wav, mp3, m4a, pcm, flac | 10MB |


## ⚙️ 功能特性

### 🖥️ 用户界面
- **📱 响应式设计** - 适配不同屏幕尺寸
- **🎨 现代UI** - 简洁美观的用户界面
- **🔄 拖拽上传** - 支持文件拖拽上传
- **📊 进度条** - 实时显示检测进度
- **🎯 结果展示** - 可视化检测结果

### ⚙️ 技术实现
- **🔧 动态替换** - 自动替换API地址配置
- **📂 静态服务** - Python内置HTTP服务器
- **🧹 自动清理** - 临时文件自动清理
- **🔒 格式验证** - 客户端文件验证
- **📡 Ajax通信** - 异步数据交互


## 📂 项目结构

```
web/
├── 📄 web_simple.py            # 主服务器
├── 🌐 index.html               # 桌面主页
├── 📱 wap.html                 # 移动版页面
├── 🚀 start_web_simple.sh      # 启动脚本
├── 🛑 stop_web_simple.sh       # 停止脚本
├── 📂 panel/                   # 检测面板
│   ├── 🎯 index.html           # 检测主页
│   └── 📱 wap.html             # 移动检测页
├── 🎨 css/                     # 样式文件
├── 🖼️ img/                     # 图片资源
├── 📜 js/                      # JavaScript脚本
└── 📊 demo/                    # 示例文件
```

## 🐛 故障排除

### 常见问题

1. **端口被占用** 
   ```bash
   # 查看端口占用
   lsof -i :8080
   # 终止进程
   kill -9 <PID>
   ```

2. **API连接失败**
   - ✅ 确认分配器服务运行
   - ✅ 检查API地址配置

3. **文件上传失败**
   - ✅ 检查文件格式和大小
   - ✅ 确认网络连接

## 🔧 核心文件

| 文件 | 功能 | 重要性 |
|------|------|---------|
| `web_simple.py` | 🚀 核心服务器 | ⭐⭐⭐⭐⭐ |
| `index.html` | 🖥️ 桌面主页 | ⭐⭐⭐⭐ |
| `panel/index.html` | 🎯 检测面板 | ⭐⭐⭐⭐⭐ |
| `wap.html` | 📱 移动版页面 | ⭐⭐⭐ |

## 🚀 工作原理

1. **📂 文件复制** - 深度拷贝Web目录到临时位置
2. **🔄 动态替换** - 替换HTML中的API地址占位符
3. **🌐 HTTP服务** - 启动内置HTTP服务器
4. **🧹 自动清理** - 服务停止后清理临时文件

## 📊 监控指标

- ✅ **服务状态** - HTTP服务器运行状态
- 📈 **访问统计** - 用户访问记录
- 📁 **文件处理** - 上传文件统计
- ⏱️ **响应时间** - 页面加载性能

---

**💡 提示**: Web服务会自动连接到本地分配器服务 (`localhost:5000`)

**🔗 相关文档**
- 📚 [分配器服务](../distributer/README.md) - 任务调度系统
- 🤖 [AI检测服务](../cucdfd_service/README.md) - 深度学习推理
